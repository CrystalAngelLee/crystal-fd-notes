# åŸºæœ¬è¯­æ³•

åœ¨è¯­æ³•å±‚é¢ï¼Œç¼ºçœç±»å‹æ³¨è§£çš„ TypeScript ä¸ JavaScript å®Œå…¨ä¸€è‡´ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠ TypeScript ä»£ç çš„ç¼–å†™çœ‹ä½œæ˜¯ä¸º JavaScript ä»£ç æ·»åŠ ç±»å‹æ³¨è§£ã€‚

åœ¨ TypeScript è¯­æ³•ä¸­ï¼Œç±»å‹çš„æ ‡æ³¨ä¸»è¦é€šè¿‡ç±»å‹åç½®è¯­æ³•æ¥å®ç°ã€‚

ğŸŒ° Demo

```js
let num = 1;
```

Demo ä¸­çš„è¯­æ³•åŒæ—¶ç¬¦åˆ JavaScript è¯­æ³•å’Œ TypeScript è¯­æ³•ã€‚

è€Œ TypeScript è¯­æ³•ä¸ JavaScript è¯­æ³•çš„åŒºåˆ«åœ¨äºï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ TypeScript ä¸­æ˜¾å¼å£°æ˜å˜é‡`num`ä»…ä»…æ˜¯æ•°å­—ç±»å‹ï¼Œä¹Ÿå°±æ˜¯è¯´åªéœ€åœ¨å˜é‡`num`åæ·»åŠ `: number`ç±»å‹æ³¨è§£å³å¯ï¼Œå¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š

```ts
let num: number = 1;
```

**ç‰¹æ®Šè¯´æ˜ï¼š**`number`è¡¨ç¤ºæ•°å­—ç±»å‹ï¼Œ`:`ç”¨**æ¥åˆ†å‰²å˜é‡å’Œç±»å‹çš„åˆ†éš”ç¬¦ã€‚**

åŒç†ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æŠŠ`:`åçš„`number`æ¢æˆå…¶ä»–çš„ç±»å‹ï¼ˆæ¯”å¦‚ JavaScript åŸå§‹ç±»å‹ï¼šnumberã€stringã€booleanã€nullã€undefinedã€symbol ç­‰ï¼‰ï¼Œæ­¤æ—¶ï¼Œnum å˜é‡ä¹Ÿå°±æ‹¥æœ‰äº† TypeScript åŒåçš„åŸå§‹ç±»å‹å®šä¹‰ã€‚

å…³äº JavaScript åŸå§‹æ•°æ®ç±»å‹åˆ° TypeScript ç±»å‹çš„æ˜ å°„å…³ç³»å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š

| JS åŸå§‹ç±»å‹ |  TSç±»å‹   |
| :---------: | :-------: |
|   string    |  string   |
|   number    |  number   |
|   boolean   |  boolean  |
|    null     |   null    |
|  undefined  | undefined |
|   symbol    |  symbol   |



# åŸå§‹ç±»å‹

åœ¨ JavaScript ä¸­ï¼ŒåŸå§‹ç±»å‹æŒ‡çš„æ˜¯éå¯¹è±¡ä¸”æ²¡æœ‰æ–¹æ³•çš„æ•°æ®ç±»å‹ï¼Œå®ƒåŒ…æ‹¬ stringã€numberã€bigintã€booleanã€undefined å’Œ symbol è¿™å…­ç§ **ï¼ˆnull æ˜¯ä¸€ä¸ªä¼ªåŸå§‹ç±»å‹ï¼Œå®ƒåœ¨ JavaScript ä¸­å®é™…ä¸Šæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä¸”æ‰€æœ‰çš„ç»“æ„åŒ–ç±»å‹éƒ½æ˜¯é€šè¿‡ null åŸå‹é“¾æ´¾ç”Ÿè€Œæ¥ï¼‰**ã€‚

åœ¨ JavaScript è¯­è¨€ä¸­ï¼ŒåŸå§‹ç±»å‹å€¼æ˜¯æœ€åº•å±‚çš„å®ç°ï¼Œå¯¹åº”åˆ° TypeScript ä¸­åŒæ ·ä¹Ÿæ˜¯æœ€åº•å±‚çš„ç±»å‹ã€‚

## å­—ç¬¦ä¸²

åœ¨ JavaScript ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨`string`è¡¨ç¤º JavaScript ä¸­ä»»æ„çš„å­—ç¬¦ä¸²ï¼ˆåŒ…æ‹¬æ¨¡æ¿å­—ç¬¦ä¸²ï¼‰ï¼Œå…·ä½“ç¤ºä¾‹å¦‚ä¸‹æ‰€ç¤ºï¼š

```ts
let firstname: string = 'Captain'; // å­—ç¬¦ä¸²å­—é¢é‡
let familyname: string = String('S'); // æ˜¾å¼ç±»å‹è½¬æ¢
let fullname: string = `my name is ${firstname}.${familyname}`;Â // æ¨¡æ¿å­—ç¬¦ä¸²
```

**è¯´æ˜ï¼šæ‰€æœ‰ JavaScript æ”¯æŒçš„å®šä¹‰å­—ç¬¦ä¸²çš„æ–¹æ³•ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥ç›´æ¥åœ¨ TypeScript ä¸­ä½¿ç”¨ã€‚**

## æ•°å­—

åŒæ ·ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨`number`ç±»å‹è¡¨ç¤º JavaScript å·²ç»æ”¯æŒæˆ–è€…å³å°†æ”¯æŒçš„åè¿›åˆ¶æ•´æ•°ã€æµ®ç‚¹æ•°ï¼Œä»¥åŠäºŒè¿›åˆ¶æ•°ã€å…«è¿›åˆ¶æ•°ã€åå…­è¿›åˆ¶æ•°ï¼Œå…·ä½“çš„ç¤ºä¾‹å¦‚ä¸‹æ‰€ç¤ºï¼š

```ts
/** åè¿›åˆ¶æ•´æ•° */
let integer: number = 6;
/** åè¿›åˆ¶æ•´æ•° */
let integer2: number = Number(42);
/** åè¿›åˆ¶æµ®ç‚¹æ•° */
let decimal: number = 3.14;
/** äºŒè¿›åˆ¶æ•´æ•° */
let binary: number = 0b1010;
/** å…«è¿›åˆ¶æ•´æ•° */
let octal: number = 0o744;
/** åå…­è¿›åˆ¶æ•´æ•° */
let hex: number = 0xf00d;
```

å¦‚æœä½¿ç”¨è¾ƒå°‘çš„å¤§æ•´æ•°ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä½¿ç”¨`bigint`ç±»å‹æ¥è¡¨ç¤ºï¼Œå¦‚ä¸‹ä»£ç æ‰€ç¤ºã€‚

```ts
let big: bigint =  100n;
```

**è¯·æ³¨æ„ï¼šè™½ç„¶**`number`å’Œ`bigint`éƒ½è¡¨ç¤ºæ•°å­—ï¼Œä½†æ˜¯è¿™ä¸¤ä¸ªç±»å‹ä¸å…¼å®¹ã€‚

## å¸ƒå°”å€¼

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨`boolean`è¡¨ç¤º True æˆ–è€… Falseï¼Œå¦‚ä¸‹ä»£ç æ‰€ç¤º

```ts
/** TypeScript çœŸé¦™ ä¸º çœŸ */
let TypeScriptIsGreat: boolean = true;
/** TypeScript å¤ªç³Ÿç³•äº† ä¸º å¦ */
let TypeScriptIsBad: boolean = false;
```

## Symbol

è‡ª ECMAScript 6 èµ·ï¼ŒTypeScript å¼€å§‹æ”¯æŒæ–°çš„`Symbol`åŸå§‹ç±»å‹ï¼Œ å³æˆ‘ä»¬å¯ä»¥é€šè¿‡`Symbol`æ„é€ å‡½æ•°ï¼Œåˆ›å»ºä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„æ ‡è®°ï¼›åŒæ—¶ï¼Œè¿˜å¯ä»¥ä½¿ç”¨`symbol`è¡¨ç¤ºå¦‚ä¸‹ä»£ç æ‰€ç¤ºçš„ç±»å‹ã€‚

```ts
let sym1: symbol = Symbol();
let sym2: symbol = Symbol('42');
```

**å½“ç„¶ï¼ŒTypeScript è¿˜åŒ…å« Numberã€Stringã€Booleanã€Symbol ç­‰ç±»å‹ï¼ˆæ³¨æ„åŒºåˆ†å¤§å°å†™ï¼‰ã€‚**

**ç‰¹æ®Šè¯´æ˜ï¼šè¯·ä½ åƒä¸‡åˆ«å°†å®ƒä»¬å’Œå°å†™æ ¼å¼å¯¹åº”çš„ numberã€stringã€booleanã€symbol è¿›è¡Œç­‰ä»·**ã€‚

å®é™…ä¸Šï¼Œæˆ‘ä»¬å‹æ ¹ä½¿ç”¨ä¸åˆ° Numberã€Stringã€Booleanã€Symbol ç±»å‹ï¼Œå› ä¸ºå®ƒä»¬å¹¶æ²¡æœ‰ä»€ä¹ˆç‰¹æ®Šçš„ç”¨é€”ã€‚è¿™å°±åƒæˆ‘ä»¬ä¸å¿…ä½¿ç”¨ JavaScript Numberã€Stringã€Boolean ç­‰æ„é€ å‡½æ•° new ä¸€ä¸ªç›¸åº”çš„å®ä¾‹ä¸€æ ·ã€‚



# é™æ€ç±»å‹æ£€æµ‹

åœ¨ç¼–è¯‘æ—¶æœŸï¼Œé™æ€ç±»å‹çš„ç¼–ç¨‹è¯­è¨€å³å¯å‡†ç¡®åœ°å‘ç°ç±»å‹é”™è¯¯ï¼Œè¿™å°±æ˜¯é™æ€ç±»å‹æ£€æµ‹çš„ä¼˜åŠ¿ã€‚

åœ¨ç¼–è¯‘ï¼ˆè½¬è¯‘ï¼‰æ—¶æœŸï¼ŒTypeScript ç¼–è¯‘å™¨å°†é€šè¿‡å¯¹æ¯”æ£€æµ‹å˜é‡æ¥æ”¶å€¼çš„ç±»å‹ä¸æˆ‘ä»¬æ˜¾ç¤ºæ³¨è§£çš„ç±»å‹ï¼Œä»è€Œæ£€æµ‹ç±»å‹æ˜¯å¦å­˜åœ¨é”™è¯¯ã€‚å¦‚æœä¸¤ä¸ªç±»å‹å®Œå…¨ä¸€è‡´ï¼Œæ˜¾ç¤ºæ£€æµ‹é€šè¿‡ï¼›å¦‚æœä¸¤ä¸ªç±»å‹ä¸ä¸€è‡´ï¼Œå®ƒå°±ä¼šæŠ›å‡ºä¸€ä¸ªç¼–è¯‘æœŸé”™è¯¯ï¼Œå‘ŠçŸ¥æˆ‘ä»¬ç¼–ç é”™è¯¯ï¼Œå…·ä½“ç¤ºä¾‹å¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š

```ts
const trueNum: number = 42;
const fakeNum: number = "42"; // ts(2322) Type 'string' is not assignable to type 'number'.
```

åœ¨ä»¥ä¸Šç¤ºä¾‹ä¸­ï¼Œé¦–å…ˆæˆ‘ä»¬å£°æ˜äº†ä¸€ä¸ªæ•°å­—ç±»å‹çš„å˜é‡`trueNum`ï¼Œé€šè¿‡ç¼–è¯‘å™¨æ£€æµ‹åï¼Œå‘ç°æ¥æ”¶å€¼æ˜¯ 42ï¼Œä¸”å®ƒçš„ç±»å‹æ˜¯`number`ï¼Œå¯è§ä¸¤è€…ç±»å‹å®Œå…¨ä¸€è‡´ã€‚æ­¤æ—¶ï¼ŒTypeScript ç¼–è¯‘å™¨å°±ä¼šæ˜¾ç¤ºæ£€æµ‹é€šè¿‡ã€‚

è€Œå¦‚æœæˆ‘ä»¬å£°æ˜äº†ä¸€ä¸ª`string`ç±»å‹çš„å˜é‡`fakeNum`ï¼Œé€šè¿‡ç¼–è¯‘å™¨æ£€æµ‹åï¼Œå‘ç°æ¥æ”¶å€¼ä¸º "42"ï¼Œä¸”å®ƒçš„ç±»å‹æ˜¯`number`ï¼Œå¯è§ä¸¤è€…ç±»å‹ä¸ä¸€è‡´ ã€‚æ­¤æ—¶ï¼ŒTypeScript ç¼–è¯‘å™¨å°±ä¼šæŠ›å‡ºä¸€ä¸ªå­—ç¬¦ä¸²å€¼ä¸èƒ½ä¸ºæ•°å­—ç±»å‹å˜é‡èµ‹å€¼çš„ts(2322) é”™è¯¯ï¼Œä¹Ÿå°±æ˜¯è¯´æ£€æµ‹ä¸é€šè¿‡ã€‚



# å¤æ‚åŸºç¡€ç±»å‹

## æ•°ç»„ç±»å‹ï¼ˆArrayï¼‰

> TypeScript çš„æ•°ç»„å’Œå…ƒç»„è½¬è¯‘ä¸º JavaScript åéƒ½æ˜¯æ•°ç»„

åœ¨ TypeScript ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åƒ JavaScript ä¸€æ ·å®šä¹‰æ•°ç»„ç±»å‹ï¼Œå¹¶ä¸”æŒ‡å®šæ•°ç»„å…ƒç´ çš„ç±»å‹ã€‚

é¦–å…ˆï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨ [] çš„å½¢å¼å®šä¹‰æ•°ç»„ç±»å‹ï¼Œå¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š

```ts
/** å­å…ƒç´ æ˜¯æ•°å­—ç±»å‹çš„æ•°ç»„ */
let arrayOfNumber: number[] = [1, 2, 3];
/** å­å…ƒç´ æ˜¯å­—ç¬¦ä¸²ç±»å‹çš„æ•°ç»„ */
let arrayOfString: string[] = ['x', 'y', 'z'];
```

åŒæ ·ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ Array æ³›å‹å®šä¹‰æ•°ç»„ç±»å‹ï¼Œå¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š

```ts
/** å­å…ƒç´ æ˜¯æ•°å­—ç±»å‹çš„æ•°ç»„ */
let arrayOfNumber: Array<number> = [1, 2, 3];
/** å­å…ƒç´ æ˜¯å­—ç¬¦ä¸²ç±»å‹çš„æ•°ç»„ */
let arrayOfString: Array<string> = ['x', 'y', 'z'];
```

å¦‚æœæˆ‘ä»¬æ˜ç¡®æŒ‡å®šäº†æ•°ç»„å…ƒç´ çš„ç±»å‹ï¼Œä»¥ä¸‹æ‰€æœ‰æ“ä½œéƒ½å°†å› ä¸ºä¸ç¬¦åˆç±»å‹çº¦å®šè€Œæç¤ºé”™è¯¯ã€‚

```ts
let arrayOfNumber: number[] = ['x', 'y', 'z']; // æç¤º ts(2322)
arrayOfNumber[3] = 'a'; // æç¤º ts(2322)
arrayOfNumber.push('b'); // æç¤º ts(2345)
let arrayOfString: string[] = [1, 2, 3]; // æç¤º ts(2322)
arrayOfString[3] = 1; // æç¤º ts(2322)
arrayOfString.push(2); // æç¤º ts(2345)ã€
```

## å…ƒç»„ç±»å‹ï¼ˆTupleï¼‰

å…ƒç»„æœ€é‡è¦çš„ç‰¹æ€§æ˜¯å¯ä»¥é™åˆ¶æ•°ç»„å…ƒç´ çš„ä¸ªæ•°å’Œç±»å‹ï¼Œå®ƒç‰¹åˆ«é€‚åˆç”¨æ¥å®ç°å¤šå€¼è¿”å›ã€‚

æˆ‘ä»¬ç†ŸçŸ¥çš„ä¸€ä¸ªä½¿ç”¨å…ƒç»„çš„åœºæ™¯æ˜¯ [React Hooks](https://reactjs.org/docs/hooks-intro.html?fileGuid=xxQTRXtVcqtHK6j8)ï¼Œä¾‹å¦‚ useState ç¤ºä¾‹ï¼š

```ts
import { useState } from 'react';

function useCount() {
  const [count, setCount] = useState(0);
  return ....;
}
```

åœ¨ JavaScript ä¸­å¹¶æ²¡æœ‰å…ƒç»„çš„æ¦‚å¿µï¼Œä½œä¸ºä¸€é—¨åŠ¨æ€ç±»å‹è¯­è¨€ï¼Œå®ƒçš„ä¼˜åŠ¿æ˜¯**å¤©ç„¶æ”¯æŒå¤šç±»å‹å…ƒç´ æ•°ç»„**ã€‚

æˆ‘ä»¬å‡è®¾ä»¥ä¸‹ä¸¤ä¸ªæ•°ç»„çš„å…ƒç´ ç±»å‹å¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š

```js
[state, setState]
[setState, state]
```

ä»ä¸Šé¢å¯ä»¥çœ‹å‡ºï¼Œstate æ˜¯ä¸€ä¸ªç±»å‹ä¸º State çš„å¯¹è±¡ï¼Œè€Œ setState æ˜¯ä¸€ä¸ªç±»å‹ä¸º SetState çš„å‡½æ•°ã€‚

**æ³¨æ„ï¼šè¿™é‡Œæˆ‘ä»¬ç”¨å…¨å°å†™è¡¨ç¤ºå€¼ï¼Œé¦–å­—æ¯å¤§å†™è¡¨ç¤ºï¼ˆTypeScriptï¼‰ç±»å‹ã€‚**

å¯¹äº JavaScript è€Œè¨€ï¼Œä¸Šé¢çš„æ•°ç»„å…¶å®é•¿çš„éƒ½ä¸€æ ·ï¼Œå¹¶æ²¡æœ‰ä¸€ä¸ªæœ‰æ•ˆçš„é€”å¾„å¯ä»¥åŒºåˆ†å½¼æ­¤ã€‚

ä¸è¿‡ï¼Œå‡ºäºè¾ƒå¥½çš„æ‰©å±•æ€§ã€å¯è¯»æ€§å’Œç¨³å®šæ€§è€ƒè™‘ï¼Œæˆ‘ä»¬å¾€å¾€ä¼šæ›´åå‘äº**æŠŠä¸åŒç±»å‹çš„å€¼é€šè¿‡é”®å€¼å¯¹çš„å½¢å¼å¡åˆ°ä¸€ä¸ªå¯¹è±¡ä¸­ï¼Œå†è¿”å›è¿™ä¸ªå¯¹è±¡**ï¼ˆå°½ç®¡è¿™æ ·ä¼šå¢åŠ ä»£ç é‡ï¼‰ï¼Œè€Œä¸æ˜¯ä½¿ç”¨æ²¡æœ‰ä»»ä½•é™åˆ¶çš„æ•°ç»„ã€‚æ¯”å¦‚æˆ‘ä»¬å¯èƒ½ä¼šä½¿ç”¨å¦‚ä¸‹çš„å¯¹è±¡ç»“æ„æ¥æ›¿æ¢æ•°ç»„ï¼š

```js
{
  state,
  setState
}
```

è€Œ TypeScript çš„å…ƒç»„ç±»å‹æ­£å¥½å¼¥è¡¥äº†è¿™ä¸ªä¸è¶³ï¼Œä½¿å¾—å®šä¹‰åŒ…å«å›ºå®šä¸ªæ•°å…ƒç´ ã€æ¯ä¸ªå…ƒç´ ç±»å‹æœªå¿…ç›¸åŒçš„æ•°ç»„æˆä¸ºå¯èƒ½ã€‚ï¼ˆéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ¯•ç«Ÿ TypeScript ä¼šè½¬è¯‘æˆ JavaScriptï¼Œæ‰€ä»¥ TypeScript çš„å…ƒç»„æ— æ³•åœ¨è¿è¡Œæ—¶çº¦æŸæ‰€è°“çš„â€œå…ƒç»„â€åƒçœŸæ­£çš„å…ƒç»„ä¸€æ ·ï¼Œä¿è¯å…ƒç´ ç±»å‹ã€é•¿åº¦ä¸å¯å˜æ›´ï¼‰ã€‚

å¯¹äº TypeScript è€Œè¨€ï¼Œå¦‚ä¸‹æ‰€ç¤ºçš„ä¸¤ä¸ªå…ƒç»„ç±»å‹å…¶å®å¹¶ä¸ç›¸åŒï¼š

```ts
[State, SetState]
[SetState, State]
```

æ‰€ä»¥æ·»åŠ äº†ä¸åŒå…ƒç»„ç±»å‹æ³¨è§£çš„æ•°ç»„åï¼Œåœ¨ TypeScript é™æ€ç±»å‹æ£€æµ‹å±‚é¢å°±å˜æˆäº†ä¸¤ä¸ªä¸ç›¸åŒçš„å…ƒç»„ï¼Œå¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š

```tsx
const x: [State, SetState] = [state, setState];
const y: [SetState, State] = [setState, state];
```

ä¸‹é¢æˆ‘ä»¬è¿˜æ˜¯ä½¿ç”¨æ‰€ç†ŸçŸ¥çš„ React Hooks æ¥ä»‹ç» TypeScript å…ƒç»„çš„åº”ç”¨åœºæ™¯ã€‚

æ¯”å¦‚ useState çš„è¿”å›å€¼ç±»å‹æ˜¯ä¸€ä¸ªå…ƒç»„ç±»å‹ï¼Œå¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼ˆä»¥ä¸‹ä»…æ˜¯ç®€å•çš„ä¾‹å­ï¼Œäº‹å®ä¸Š useState çš„ç±»å‹å®šä¹‰æ›´ä¸ºå¤æ‚ï¼‰ï¼š

```ts
(state: State) => [State, SetState]
```

å…ƒç»„ç›¸è¾ƒå¯¹è±¡è€Œè¨€ï¼Œä¸ä»…ä¸ºæˆ‘ä»¬å®ç°è§£æ„èµ‹å€¼æä¾›äº†æå¤§ä¾¿åˆ©ï¼Œè¿˜å‡å°‘äº†ä¸å°‘ä»£ç é‡ï¼Œè¿™å¯èƒ½ä¹Ÿæ˜¯ React å®˜æ–¹å¦‚æ­¤è®¾è®¡æ ¸å¿ƒ Hooks çš„é‡è¦åŸå› ä¹‹ä¸€ã€‚

ä½†äº‹å®ä¸Šï¼Œè®¸å¤šç¬¬ä¸‰æ–¹çš„ Hooks å¾€å¾€ä¼šå‡ºäºæ‰©å±•æ€§ã€ç¨³å®šæ€§ç­‰è€ƒè™‘ï¼Œå°¤å…¶æ˜¯éœ€è¦è¿”å›çš„å€¼çš„ä¸ªæ•°è¶…è¿‡ 2 ä¸ªæ—¶ï¼Œä¼šæ›´åå‘äºä½¿ç”¨å¯¹è±¡ä½œä¸ºè¿”å›å€¼ã€‚

> è¿™é‡Œéœ€è¦æ³¨æ„ï¼šæ•°ç»„ç±»å‹çš„å€¼åªæœ‰æ˜¾ç¤ºæ·»åŠ äº†å…ƒç»„ç±»å‹æ³¨è§£åï¼ˆæˆ–è€…ä½¿ç”¨ as constï¼Œå£°æ˜ä¸ºåªè¯»å…ƒç»„ï¼‰ï¼ŒTypeScript æ‰ä¼šæŠŠå®ƒå½“ä½œå…ƒç»„ï¼Œå¦åˆ™æ¨èå‡ºæ¥çš„ç±»å‹å°±æ˜¯æ™®é€šçš„æ•°ç»„ç±»å‹ã€‚



## ç‰¹æ®Šç±»å‹

> è¿™æ˜¯å¹¶ä¸æ˜¯ TypeScript å®˜æ–¹çš„å®šä¹‰ï¼Œè¿™ä¹ˆåˆ’åˆ†æ˜¯ä¸ºäº†æ›´å¥½åœ°ç»„ç»‡çŸ¥è¯†ç‚¹

### any

any æŒ‡çš„æ˜¯ä¸€ä¸ªä»»æ„ç±»å‹ï¼Œå®ƒæ˜¯å®˜æ–¹æä¾›çš„ä¸€ä¸ªé€‰æ‹©æ€§ç»•è¿‡é™æ€ç±»å‹æ£€æµ‹çš„ä½œå¼Šæ–¹å¼ã€‚

æˆ‘ä»¬å¯ä»¥å¯¹è¢«æ³¨è§£ä¸º any ç±»å‹çš„å˜é‡è¿›è¡Œä»»ä½•æ“ä½œï¼ŒåŒ…æ‹¬è·å–äº‹å®ä¸Šå¹¶ä¸å­˜åœ¨çš„å±æ€§ã€æ–¹æ³•ï¼Œå¹¶ä¸” TypeScript è¿˜æ— æ³•æ£€æµ‹å…¶å±æ€§æ˜¯å¦å­˜åœ¨ã€ç±»å‹æ˜¯å¦æ­£ç¡®ã€‚

æ¯”å¦‚æˆ‘ä»¬å¯ä»¥æŠŠä»»ä½•ç±»å‹çš„å€¼èµ‹å€¼ç»™ any ç±»å‹çš„å˜é‡ï¼Œä¹Ÿå¯ä»¥æŠŠ any ç±»å‹çš„å€¼èµ‹å€¼ç»™ä»»æ„ç±»å‹ï¼ˆé™¤ never ä»¥å¤–ï¼‰çš„å˜é‡ï¼Œå¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š

```ts
let anything: any = {};
anything.doAnything(); // ä¸ä¼šæç¤ºé”™è¯¯
anything = 1; // ä¸ä¼šæç¤ºé”™è¯¯
anything = 'x'; // ä¸ä¼šæç¤ºé”™è¯¯
let num: number = anything;Â // ä¸ä¼šæç¤ºé”™è¯¯
let str: string = anything;Â // ä¸ä¼šæç¤ºé”™è¯¯
```

å¦‚æœæˆ‘ä»¬ä¸æƒ³èŠ±è´¹è¿‡é«˜çš„æˆæœ¬ä¸ºå¤æ‚çš„æ•°æ®æ·»åŠ ç±»å‹æ³¨è§£ï¼Œæˆ–è€…å·²ç»å¼•å…¥äº†ç¼ºå°‘ç±»å‹æ³¨è§£çš„ç¬¬ä¸‰æ–¹ç»„ä»¶åº“ï¼Œè¿™æ—¶å°±å¯ä»¥æŠŠè¿™äº›å€¼å…¨éƒ¨æ³¨è§£ä¸º any ç±»å‹ï¼Œå¹¶å‘Šè¯‰ TypeScript é€‰æ‹©æ€§åœ°å¿½ç•¥é™æ€ç±»å‹æ£€æµ‹ã€‚

å°¤å…¶æ˜¯åœ¨å°†ä¸€ä¸ªåŸºäº JavaScript çš„åº”ç”¨æ”¹é€ æˆ TypeScript çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¸å¾—ä¸å€ŸåŠ© any æ¥é€‰æ‹©æ€§æ·»åŠ å’Œå¿½ç•¥å¯¹æŸäº› JavaScript æ¨¡å—çš„é™æ€ç±»å‹æ£€æµ‹ï¼Œç›´è‡³é€æ­¥æ›¿æ¢æ‰æ‰€æœ‰çš„ JavaScriptã€‚

any ç±»å‹ä¼šåœ¨å¯¹è±¡çš„è°ƒç”¨é“¾ä¸­è¿›è¡Œä¼ å¯¼ï¼Œå³æ‰€æœ‰ any ç±»å‹çš„ä»»æ„å±æ€§çš„ç±»å‹éƒ½æ˜¯ anyï¼Œå¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š

```js
let anything: any = {};
let z = anything.x.y.z; // z ç±»å‹æ˜¯ anyï¼Œä¸ä¼šæç¤ºé”™è¯¯
z(); // ä¸ä¼šæç¤ºé”™è¯¯
```

è¿™é‡Œæˆ‘ä»¬éœ€è¦æ˜ç™½ä¸”è®°ä½ï¼š**Any is Hellï¼ˆAny æ˜¯åœ°ç‹±ï¼‰**ã€‚

ä»é•¿è¿œæ¥çœ‹ï¼Œä½¿ç”¨ any ç»å¯¹æ˜¯ä¸€ä¸ªåä¹ æƒ¯ã€‚å¦‚æœä¸€ä¸ª TypeScript åº”ç”¨ä¸­å……æ»¡äº† anyï¼Œæ­¤æ—¶é™æ€ç±»å‹æ£€æµ‹åŸºæœ¬èµ·ä¸åˆ°ä»»ä½•ä½œç”¨ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸ç›´æ¥ä½¿ç”¨ JavaScript æ²¡æœ‰ä»»ä½•åŒºåˆ«ã€‚**å› æ­¤ï¼Œé™¤éæœ‰å……è¶³çš„ç†ç”±ï¼Œå¦åˆ™æˆ‘ä»¬åº”è¯¥å°½é‡é¿å…ä½¿ç”¨ any ï¼Œå¹¶ä¸”å¼€å¯ç¦ç”¨éšå¼ any çš„è®¾ç½®ã€‚**

### unknown

unknown æ˜¯ TypeScript 3.0 ä¸­æ·»åŠ çš„ä¸€ä¸ªç±»å‹ï¼Œå®ƒä¸»è¦ç”¨æ¥æè¿°ç±»å‹å¹¶ä¸ç¡®å®šçš„å˜é‡ã€‚

æ¯”å¦‚åœ¨å¤šä¸ª if else æ¡ä»¶åˆ†æ”¯åœºæ™¯ä¸‹ï¼Œå®ƒå¯ä»¥ç”¨æ¥æ¥æ”¶ä¸åŒæ¡ä»¶ä¸‹ç±»å‹å„å¼‚çš„è¿”å›å€¼çš„ä¸´æ—¶å˜é‡ï¼Œå¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š

```ts
let result: unknown;
if (x) {
  result = x();
} else if (y) {
  result = y();
} ...
```

åœ¨ 3.0 ä»¥å‰çš„ç‰ˆæœ¬ä¸­ï¼Œåªæœ‰ä½¿ç”¨ any æ‰èƒ½æ»¡è¶³è¿™ç§åŠ¨æ€ç±»å‹åœºæ™¯ã€‚

ä¸ any ä¸åŒçš„æ˜¯ï¼Œunknown åœ¨ç±»å‹ä¸Šæ›´å®‰å…¨ã€‚æ¯”å¦‚**æˆ‘ä»¬å¯ä»¥å°†ä»»æ„ç±»å‹çš„å€¼èµ‹å€¼ç»™ unknownï¼Œä½† unknown ç±»å‹çš„å€¼åªèƒ½èµ‹å€¼ç»™ unknown æˆ– any**ï¼Œå¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š

```ts
let result: unknown;
let num: number = result; // æç¤º ts(2322)
let anything: any = result; // ä¸ä¼šæç¤ºé”™è¯¯
```

ä½¿ç”¨ unknown åï¼ŒTypeScript ä¼šå¯¹å®ƒåšç±»å‹æ£€æµ‹ã€‚ä½†æ˜¯ï¼Œå¦‚æœä¸ç¼©å°ç±»å‹ï¼ˆType Narrowingï¼‰ï¼Œæˆ‘ä»¬å¯¹ unknown æ‰§è¡Œçš„ä»»ä½•æ“ä½œéƒ½ä¼šå‡ºç°å¦‚ä¸‹æ‰€ç¤ºé”™è¯¯ï¼š

```ts
let result: unknown;
result.toFixed(); // æç¤º ts(2571)
```

**è€Œæ‰€æœ‰çš„ç±»å‹ç¼©å°æ‰‹æ®µå¯¹ unknown éƒ½æœ‰æ•ˆ**ï¼Œå¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š

```ts
let result: unknown;
if (typeof result === 'number') {
  result.toFixed(); // æ­¤å¤„ hover result æç¤ºç±»å‹æ˜¯ numberï¼Œä¸ä¼šæç¤ºé”™è¯¯
}
```

### voidã€undefinedã€null

é¦–å…ˆæˆ‘ä»¬æ¥è¯´ä¸€ä¸‹ void ç±»å‹ï¼Œå®ƒä»…é€‚ç”¨äºè¡¨ç¤ºæ²¡æœ‰è¿”å›å€¼çš„å‡½æ•°ã€‚å³å¦‚æœè¯¥å‡½æ•°æ²¡æœ‰è¿”å›å€¼ï¼Œé‚£å®ƒçš„ç±»å‹å°±æ˜¯ voidã€‚

åœ¨ strict æ¨¡å¼ä¸‹ï¼Œå£°æ˜ä¸€ä¸ª void ç±»å‹çš„å˜é‡å‡ ä¹æ²¡æœ‰ä»»ä½•å®é™…ç”¨å¤„ï¼Œå› ä¸ºæˆ‘ä»¬ä¸èƒ½æŠŠ void ç±»å‹çš„å˜é‡å€¼å†èµ‹å€¼ç»™é™¤äº† any å’Œ unkown ä¹‹å¤–çš„ä»»ä½•ç±»å‹å˜é‡ã€‚

ç„¶åæˆ‘ä»¬è¯´è¯´ undefined ç±»å‹ å’Œ null ç±»å‹ï¼Œå®ƒä»¬æ˜¯ TypeScript å€¼ä¸ç±»å‹å…³é”®å­—åŒåçš„å”¯äºŒä¾‹å¤–ã€‚ä½†è¿™å¹¶ä¸å½±å“å®ƒä»¬è¢«ç§°ä¸ºâ€œåºŸæŸ´â€ï¼Œå› ä¸ºå•çº¯å£°æ˜ undefined æˆ–è€… null ç±»å‹çš„å˜é‡ä¹Ÿæ˜¯æ— æ¯”é¸¡è‚‹ï¼Œç¤ºä¾‹å¦‚ä¸‹æ‰€ç¤ºï¼š

```ts
let undeclared: undefined = undefined; // é¸¡è‚‹
let nullable: null = null; // é¸¡è‚‹
```

undefined çš„æœ€å¤§ä»·å€¼ä¸»è¦ä½“ç°åœ¨æ¥å£ç±»å‹ä¸Šï¼Œå®ƒè¡¨ç¤ºä¸€ä¸ªå¯ç¼ºçœã€æœªå®šä¹‰çš„å±æ€§ã€‚

**æˆ‘ä»¬å¯ä»¥æŠŠ undefined å€¼æˆ–ç±»å‹æ˜¯ undefined çš„å˜é‡èµ‹å€¼ç»™ void ç±»å‹å˜é‡ï¼Œåè¿‡æ¥ï¼Œç±»å‹æ˜¯ void ä½†å€¼æ˜¯ undefined çš„å˜é‡ä¸èƒ½èµ‹å€¼ç»™ undefined ç±»å‹ã€‚**

```ts
const userInfo: {
  id?: number;
} = {};
let undeclared: undefined = undefined;
let unusable: void = undefined;
unusable = undeclared; // ok
undeclared = unusable; // ts(2322)
```

null ï¼Œå®ƒè¡¨æ˜å¯¹è±¡æˆ–å±æ€§å¯èƒ½æ˜¯ç©ºå€¼ã€‚å°¤å…¶æ˜¯åœ¨å‰åç«¯äº¤äº’çš„æ¥å£ï¼Œæ¯”å¦‚ Java Restfulã€Graphqlï¼Œä»»ä½•æ¶‰åŠæŸ¥è¯¢çš„å±æ€§ã€å¯¹è±¡éƒ½å¯èƒ½æ˜¯ null ç©ºå¯¹è±¡ï¼Œå¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š

```ts
const userInfo: {
  name: null | string
} = { name: null };
```

é™¤æ­¤ä¹‹å¤–ï¼Œundefined å’Œ null ç±»å‹è¿˜å…·å¤‡è­¦ç¤ºæ„ä¹‰ï¼Œå®ƒä»¬å¯ä»¥æé†’æˆ‘ä»¬é’ˆå¯¹å¯èƒ½æ“ä½œè¿™ä¸¤ç§ï¼ˆç±»å‹ï¼‰å€¼çš„æƒ…å†µåšå®¹é”™å¤„ç†ã€‚

æˆ‘ä»¬éœ€è¦ç±»å‹å®ˆå«ï¼ˆType Guardï¼‰åœ¨æ“ä½œä¹‹å‰åˆ¤æ–­å€¼çš„ç±»å‹æ˜¯å¦æ”¯æŒå½“å‰çš„æ“ä½œã€‚ç±»å‹å®ˆå«æ—¢èƒ½é€šè¿‡ç±»å‹ç¼©å°å½±å“ TypeScript çš„ç±»å‹æ£€æµ‹ï¼Œä¹Ÿèƒ½ä¿éšœ JavaScript è¿è¡Œæ—¶çš„å®‰å…¨æ€§ï¼Œå¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š

```ts
const userInfo: {
  id?: number;
  name?: null | string
} = { id: 1, name: 'Captain' };
if (userInfo.id !== undefined) { // Type Guard
  userInfo.id.toFixed(); // id çš„ç±»å‹ç¼©å°æˆ number
}
```

ä¸å»ºè®®éšæ„ä½¿ç”¨éç©ºæ–­è¨€æ¥æ’é™¤å€¼å¯èƒ½ä¸º null æˆ– undefined çš„æƒ…å†µï¼Œå› ä¸ºè¿™æ ·å¾ˆä¸å®‰å…¨ã€‚

```ts
userInfo.id!.toFixed(); // okï¼Œä½†ä¸å»ºè®®
userInfo.name!.toLowerCase() // okï¼Œä½†ä¸å»ºè®®
```

è€Œæ¯”éç©ºæ–­è¨€æ›´å®‰å…¨ã€ç±»å‹å®ˆå«æ›´æ–¹ä¾¿çš„åšæ³•æ˜¯ä½¿ç”¨å•é—®å·ï¼ˆOptional Chainï¼‰ã€åŒé—®å·ï¼ˆç©ºå€¼åˆå¹¶ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®ƒä»¬æ¥ä¿éšœä»£ç çš„å®‰å…¨æ€§ï¼Œå¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š

```ts
userInfo.id?.toFixed(); // Optional Chain
const myName = userInfo.name?? `my name is ${info.name}`; // ç©ºå€¼åˆå¹¶
```

### never

never è¡¨ç¤ºæ°¸è¿œä¸ä¼šå‘ç”Ÿå€¼çš„ç±»å‹ï¼Œè¿™é‡Œæˆ‘ä»¬ä¸¾ä¸€ä¸ªå®é™…çš„åœºæ™¯è¿›è¡Œè¯´æ˜ã€‚

é¦–å…ˆï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªç»Ÿä¸€æŠ›å‡ºé”™è¯¯çš„å‡½æ•°ï¼Œä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼ˆåœ†æ‹¬å·å : + ç±»å‹æ³¨è§£ è¡¨ç¤ºå‡½æ•°è¿”å›å€¼çš„ç±»å‹ï¼‰

```ts
function ThrowError(msg: string): never {
  throw Error(msg);
}
```

ä»¥ä¸Šå‡½æ•°å› ä¸ºæ°¸è¿œä¸ä¼šæœ‰è¿”å›å€¼ï¼Œæ‰€ä»¥å®ƒçš„è¿”å›å€¼ç±»å‹å°±æ˜¯ neverã€‚

åŒæ ·ï¼Œå¦‚æœå‡½æ•°ä»£ç ä¸­æ˜¯ä¸€ä¸ªæ­»å¾ªç¯ï¼Œé‚£ä¹ˆè¿™ä¸ªå‡½æ•°çš„è¿”å›å€¼ç±»å‹ä¹Ÿæ˜¯ never

```ts
function InfiniteLoop(): never {
  while (true) {}
}
```

**never æ˜¯æ‰€æœ‰ç±»å‹çš„å­ç±»å‹ï¼Œå®ƒå¯ä»¥ç»™æ‰€æœ‰ç±»å‹èµ‹å€¼**ï¼Œå¦‚ä¸‹ä»£ç æ‰€ç¤ºã€‚

```ts
let Unreachable: never = 1; // ts(2322)
Unreachable = 'string'; // ts(2322)
Unreachable = true; // ts(2322)
let num: number = Unreachable; // ok
let str: string = Unreachable; // ok
let bool: boolean = Unreachable; // ok
```

ä½†æ˜¯åè¿‡æ¥ï¼Œ**é™¤äº† never è‡ªèº«ä»¥å¤–ï¼Œå…¶ä»–ç±»å‹ï¼ˆåŒ…æ‹¬ any åœ¨å†…çš„ç±»å‹ï¼‰éƒ½ä¸èƒ½ä¸º never ç±»å‹èµ‹å€¼**ã€‚

åœ¨æ’ä¸º false çš„ç±»å‹å®ˆå«æ¡ä»¶åˆ¤æ–­ä¸‹ï¼Œå˜é‡çš„ç±»å‹å°†ç¼©å°ä¸º neverï¼ˆnever æ˜¯æ‰€æœ‰å…¶ä»–ç±»å‹çš„å­ç±»å‹ï¼Œæ‰€ä»¥æ˜¯ç±»å‹ç¼©å°ä¸º neverï¼Œè€Œä¸æ˜¯å˜æˆ neverï¼‰ã€‚å› æ­¤ï¼Œæ¡ä»¶åˆ¤æ–­ä¸­çš„ç›¸å…³æ“ä½œå§‹ç»ˆä¼šæŠ¥æ— æ³•æ›´æ­£çš„é”™è¯¯ï¼ˆæˆ‘ä»¬å¯ä»¥æŠŠè¿™ç†è§£ä¸ºä¸€ç§åŸºäºé™æ€ç±»å‹æ£€æµ‹çš„ Dead Code æ£€æµ‹æœºåˆ¶ï¼‰ï¼Œå¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š

```ts
const str: string = 'string';
if (typeof str === 'number') {
  str.toLowerCase(); // Property 'toLowerCase' does not exist on type 'never'.ts(2339)
}
```

åŸºäº never çš„ç‰¹æ€§ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨ never å®ç°ä¸€äº›æœ‰æ„æ€çš„åŠŸèƒ½ã€‚æ¯”å¦‚æˆ‘ä»¬å¯ä»¥æŠŠ never ä½œä¸ºæ¥å£ç±»å‹ä¸‹çš„å±æ€§ç±»å‹ï¼Œç”¨æ¥ç¦æ­¢å†™æ¥å£ä¸‹ç‰¹å®šçš„å±æ€§ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

```ts
const props: {
  id: number,
  name?: never
} = {
  id: 1
}
props.name = null; // ts(2322))
props.name = 'str'; // ts(2322)
props.name = 1; // ts(2322)
```

æ­¤æ—¶ï¼Œæ— è®ºæˆ‘ä»¬ç»™ props.name èµ‹ä»€ä¹ˆç±»å‹çš„å€¼ï¼Œå®ƒéƒ½ä¼šæç¤ºç±»å‹é”™è¯¯ï¼Œå®é™…æ•ˆæœç­‰åŒäº name åªè¯» ã€‚

### object

object ç±»å‹è¡¨ç¤ºéåŸå§‹ç±»å‹çš„ç±»å‹ï¼Œå³é numberã€stringã€booleanã€bigintã€symbolã€nullã€undefined çš„ç±»å‹ã€‚

```ts
declare function create(o: object | null): any;
create({}); // ok
create(() => null); // ok
create(2); // ts(2345)
create('string'); // ts(2345)
```



## ç±»å‹æ–­è¨€ï¼ˆType Assertionï¼‰

TypeScript ç±»å‹æ£€æµ‹æ— æ³•åšåˆ°ç»å¯¹æ™ºèƒ½ï¼Œæ¯•ç«Ÿç¨‹åºä¸èƒ½åƒäººä¸€æ ·æ€è€ƒã€‚æœ‰æ—¶ä¼šç¢°åˆ°æˆ‘ä»¬æ¯” TypeScript æ›´æ¸…æ¥šå®é™…ç±»å‹çš„æƒ…å†µï¼Œæ¯”å¦‚ä¸‹é¢çš„ä¾‹å­ï¼š

```ts
const arrayNumber: number[] = [1, 2, 3, 4];
const greaterThan2: number = arrayNumber.find(num => num > 2); // æç¤º ts(2322)
```

å…¶ä¸­ï¼ŒgreaterThan2 ä¸€å®šæ˜¯ä¸€ä¸ªæ•°å­—ï¼ˆç¡®åˆ‡åœ°è®²æ˜¯ 3ï¼‰ï¼Œå› ä¸º arrayNumber ä¸­æ˜æ˜¾æœ‰å¤§äº 2 çš„æˆå‘˜ï¼Œä½†é™æ€ç±»å‹å¯¹è¿è¡Œæ—¶çš„é€»è¾‘æ— èƒ½ä¸ºåŠ›ã€‚

åœ¨ TypeScript çœ‹æ¥ï¼ŒgreaterThan2 çš„ç±»å‹æ—¢å¯èƒ½æ˜¯æ•°å­—ï¼Œä¹Ÿå¯èƒ½æ˜¯ undefinedï¼Œæ‰€ä»¥ä¸Šé¢çš„ç¤ºä¾‹ä¸­æç¤ºäº†ä¸€ä¸ª ts(2322) é”™è¯¯ï¼Œæ­¤æ—¶æˆ‘ä»¬ä¸èƒ½æŠŠç±»å‹ undefined åˆ†é…ç»™ç±»å‹ numberã€‚

ä¸è¿‡ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ç§ç¬ƒå®šçš„æ–¹å¼â€”â€”**ç±»å‹æ–­è¨€**ï¼ˆç±»ä¼¼ä»…ä½œç”¨åœ¨ç±»å‹å±‚é¢çš„å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼‰å‘Šè¯‰ TypeScript æŒ‰ç…§æˆ‘ä»¬çš„æ–¹å¼åšç±»å‹æ£€æŸ¥ã€‚

æ¯”å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ as è¯­æ³•åšç±»å‹æ–­è¨€ï¼Œå¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š

```ts
const arrayNumber: number[] = [1, 2, 3, 4];
const greaterThan2: number = arrayNumber.find(num => num > 2) as number;
```

åˆæˆ–è€…æ˜¯ä½¿ç”¨å°–æ‹¬å· + ç±»å‹çš„æ ¼å¼åšç±»å‹æ–­è¨€ï¼Œå¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š

```ts
const arrayNumber: number[] = [1, 2, 3, 4];
const greaterThan2: number = <number>arrayNumber.find(num => num > 2);
```

ä»¥ä¸Šä¸¤ç§æ–¹å¼è™½ç„¶æ²¡æœ‰ä»»ä½•åŒºåˆ«ï¼Œä½†æ˜¯å°–æ‹¬å·æ ¼å¼ä¼šä¸ JSX äº§ç”Ÿè¯­æ³•å†²çªï¼Œå› æ­¤æˆ‘ä»¬æ›´æ¨èä½¿ç”¨ as è¯­æ³•ã€‚

> æ³¨æ„ï¼šç±»å‹æ–­è¨€çš„æ“ä½œå¯¹è±¡å¿…é¡»æ»¡è¶³æŸäº›çº¦æŸå…³ç³»ï¼Œå¦åˆ™æˆ‘ä»¬å°†å¾—åˆ°ä¸€ä¸ª ts(2352) é”™è¯¯ï¼Œå³ä»ç±»å‹â€œæºç±»å‹â€åˆ°ç±»å‹â€œç›®æ ‡ç±»å‹â€çš„è½¬æ¢æ˜¯é”™è¯¯çš„ï¼Œå› ä¸ºè¿™ä¸¤ç§ç±»å‹ä¸èƒ½å……åˆ†é‡å ã€‚

æˆ‘ä¸€åº¦å–œæ¬¢ç”¨â€œæŒ‡é¹¿ä¸ºé©¬â€æ¥å½¢å®¹ç±»å‹æ–­è¨€ï¼Œä½†å…¶å®ä¹Ÿä¸å¤Ÿå‡†ç¡®ã€‚

ä»ç‰©ç§ç±»å‹ä¸Šçœ‹ï¼Œé¹¿å’Œé©¬è‚¯å®šä¸èƒ½è½¬æ¢ï¼Œè™½ç„¶å®ƒä»¬éƒ½æ˜¯åŠ¨ç‰©ï¼ˆç»§æ‰¿è‡ªåŒä¸€ä¸ªçˆ¶ç±»ï¼‰ï¼Œä½†æ˜¯é¹¿æœ‰â€œè§’å±æ€§â€ï¼Œé©¬æœ‰â€œé¬ƒæ¯›å±æ€§â€ï¼Œæ‰€ä»¥ä¸¤è€…ä¸èƒ½å……åˆ†é‡å ã€‚

**å¦‚æœæˆ‘ä»¬æŠŠå®ƒæ¢æˆâ€œæŒ‡ç™½é©¬ä¸ºé©¬â€â€œæŒ‡é©¬ä¸ºç™½é©¬â€ï¼Œå°±å¯ä»¥å¾ˆè´´åˆ‡åœ°ä½“ç°ç±»å‹æ–­è¨€çš„çº¦æŸæ¡ä»¶ï¼šçˆ¶å­ã€å­çˆ¶ç±»å‹ä¹‹é—´å¯ä»¥ä½¿ç”¨ç±»å‹æ–­è¨€è¿›è¡Œè½¬æ¢ã€‚**

> **æ³¨æ„**ï¼šè¿™ä¸ªç»“è®ºå®Œå…¨é€‚ç”¨äºå¤æ‚ç±»å‹ï¼Œä½†æ˜¯å¯¹äº numberã€stringã€boolean åŸå§‹ç±»å‹æ¥è¯´ï¼Œä¸ä»…çˆ¶å­ç±»å‹å¯ä»¥ç›¸äº’æ–­è¨€ï¼Œçˆ¶ç±»å‹ç›¸åŒçš„ç±»å‹ä¹Ÿå¯ä»¥ç›¸äº’æ–­è¨€ï¼Œæ¯”å¦‚ 1 as 2ã€'a' as 'b'ã€true as falseï¼ˆè¿™é‡Œçš„ 2ã€'b'ã€false è¢«ç§°ä¹‹ä¸ºå­—é¢é‡ç±»å‹ï¼‰ï¼Œåè¿‡æ¥ 2 as 1ã€'b' as 'a'ã€false as true ä¹Ÿæ˜¯è¢«å…è®¸çš„ï¼ˆè¿™é‡Œçš„ 1ã€'a'ã€true æ˜¯å­—é¢é‡ç±»å‹ï¼‰ï¼Œå°½ç®¡è¿™æ ·çš„æ–­è¨€æ²¡æœ‰ä»»ä½•æ„ä¹‰ã€‚

å¦å¤–ï¼Œany å’Œ unknown è¿™ä¸¤ä¸ªç‰¹æ®Šç±»å‹å±äºä¸‡é‡‘æ²¹ï¼Œå› ä¸ºå®ƒä»¬æ—¢å¯ä»¥è¢«æ–­è¨€æˆä»»ä½•ç±»å‹ï¼Œåè¿‡æ¥ä»»ä½•ç±»å‹ä¹Ÿéƒ½å¯ä»¥è¢«æ–­è¨€æˆ any æˆ– unknownã€‚å› æ­¤ï¼Œå¦‚æœæˆ‘ä»¬æƒ³å¼ºè¡Œâ€œæŒ‡é¹¿ä¸ºé©¬â€ï¼Œå°±å¯ä»¥å…ˆæŠŠâ€œé¹¿â€æ–­è¨€ä¸º any æˆ– unknownï¼Œç„¶åå†æŠŠ any å’Œ unknown æ–­è¨€ä¸ºâ€œé©¬â€ï¼Œæ¯”å¦‚é¹¿ as any as é©¬ã€‚

æˆ‘ä»¬é™¤äº†å¯ä»¥æŠŠç‰¹å®šç±»å‹æ–­è¨€æˆç¬¦åˆçº¦æŸæ·»åŠ çš„å…¶ä»–ç±»å‹ä¹‹å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨â€œå­—é¢é‡å€¼ + as constâ€è¯­æ³•ç»“æ„è¿›è¡Œå¸¸é‡æ–­è¨€ï¼Œå…·ä½“ç¤ºä¾‹å¦‚ä¸‹æ‰€ç¤ºï¼š

```ts
/** str ç±»å‹æ˜¯ '"str"' */
let str = 'str' as const;
/** readOnlyArr ç±»å‹æ˜¯ 'readonly [0, 1]' */
const readOnlyArr = [0, 1] as const;
```

è¿˜æœ‰ä¸€ç§ç‰¹æ®Šéç©ºæ–­è¨€ï¼Œå³åœ¨å€¼ï¼ˆå˜é‡ã€å±æ€§ï¼‰çš„åè¾¹æ·»åŠ  '!' æ–­è¨€æ“ä½œç¬¦ï¼Œå®ƒå¯ä»¥ç”¨æ¥æ’é™¤å€¼ä¸º nullã€undefined çš„æƒ…å†µï¼Œå…·ä½“ç¤ºä¾‹å¦‚ä¸‹ï¼š

```ts
let mayNullOrUndefinedOrString: null | undefined | string;
mayNullOrUndefinedOrString!.toString(); // ok
mayNullOrUndefinedOrString.toString(); // ts(2531)
```

å¯¹äºéç©ºæ–­è¨€æ¥è¯´ï¼Œæˆ‘ä»¬åŒæ ·åº”è¯¥æŠŠå®ƒè§†ä½œå’Œ any ä¸€æ ·å±é™©çš„é€‰æ‹©ã€‚

åœ¨å¤æ‚åº”ç”¨åœºæ™¯ä¸­ï¼Œå¦‚æœæˆ‘ä»¬ä½¿ç”¨éç©ºæ–­è¨€ï¼Œå°±æ— æ³•ä¿è¯ä¹‹å‰ä¸€å®šéç©ºçš„å€¼ï¼Œæ¯”å¦‚é¡µé¢ä¸­ä¸€å®šå­˜åœ¨ id ä¸º feedback çš„å…ƒç´ ï¼Œæ•°ç»„ä¸­ä¸€å®šæœ‰æ»¡è¶³ > 2 æ¡ä»¶çš„æ•°å­—ï¼Œè¿™äº›éƒ½ä¸ä¼šè¢«å…¶ä»–äººæ”¹å˜ã€‚è€Œä¸€æ—¦ä¿è¯è¢«æ”¹å˜ï¼Œé”™è¯¯åªä¼šåœ¨è¿è¡Œç¯å¢ƒä¸­æŠ›å‡ºï¼Œè€Œé™æ€ç±»å‹æ£€æµ‹æ˜¯å‘ç°ä¸äº†è¿™äº›é”™è¯¯çš„ã€‚

æ‰€ä»¥ï¼Œæˆ‘ä»¬å»ºè®®ä½¿ç”¨ç±»å‹å®ˆå«æ¥ä»£æ›¿éç©ºæ–­è¨€ï¼Œæ¯”å¦‚å¦‚ä¸‹æ‰€ç¤ºçš„æ¡ä»¶åˆ¤æ–­ï¼š

```ts
let mayNullOrUndefinedOrString: null | undefined | string;
if (typeof mayNullOrUndefinedOrString === 'string') {
  mayNullOrUndefinedOrString.toString(); // ok
}
```

